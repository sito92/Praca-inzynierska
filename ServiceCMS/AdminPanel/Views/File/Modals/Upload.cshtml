@using Modules.Resources
@using Logic.Common.Models
@model NewsModel
<div class="modal-header">
    <div class="row text-center">
        <div class="col-md-12">
            <h2 class="text-modal-heading">@Presentation.Add</h2>
        </div>
    </div>
</div>
<div class="modal-body">
    <div class="row">
        <div class="col-md-12">
            <div class="fileUpload btn kentico-color">
                <span class="fa fa-upload"></span><span style="margin-left: 10px;">@Presentation.ChooseFile</span>
                <input type="file" nv-file-select uploader="uploader" class="upload" multiple="true" />
            </div>
        </div>
    </div>
    <div ng-show="uploader.queue.length>0">
        <div class="row">
            <div class="col-md-12">
                <div class="pull-right" style="margin-bottom: 10px;">
                    <div class="btn btn-sm btn-success" ng-click="uploader.uploadAll()"><span class="fa fa-upload"></span><span>@Presentation.UploadAll</span></div>
                </div>
                <table class="table table-bordered kentico-color">
                    <thead>
                    <tr>
                        <th>
                            @Presentation.Name
                        </th>
                        <th>
                            @Presentation.FileName
                        </th>
                        <th>
                            @Presentation.Size
                        </th>
                        <th>
                            @Presentation.Progress
                        </th>
                        <th>
                            @Presentation.Status
                        </th>
                        <th class="text-center">
                            @Presentation.Actions
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in uploader.queue">
                        <td class="text-center"><input ng-model="item.uploadData.Name" type="text" class="form-control"/></td>
                        <td ng-bind="item.file.name" class="text-center"></td>
                        <td ng-bind="item.file.size | filesize" class="text-center"></td>
                        <td class="text-center">
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }">
                                </div>
                            </div>
                        </td>
                        <td class="text-center">
                            <span class="fa fa-check" ng-show="item.uploadData.Success"></span>
                            <span class="fa fa-times" ng-show="!item.uploadData.Success"></span>
                        </td>
                        <td class="text-center">
                            <div class="btn btn-sm btn-success" ng-click="item.upload()"><span class="fa fa-upload"></span></div>
                            <div class="btn btn-sm btn-danger" ng-click="item.remove()"><span class="fa fa-remove"></span></div>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class="col-md-12 kentico-color file-upload-progress">
                    <p>@Presentation.QueueProgress</p>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    <div ng-show="uploader.queue.length<=0">
        <span>@Presentation.NoChoosenFiles</span>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-default" ng-click="cancel()">@Presentation.Cancel</button>
</div>
